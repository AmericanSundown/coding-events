{% extends 'base.html' %}
{% load endless %}
{% load static %}

{% block title %}- Search Events{% endblock title %}

{% block search_button %}ddd{% endblock %}
{% block content %}
	<div class="container">
		<div class="search-page">
			<div class="search-options">
				<form method="post" action="{% url 'web.search_events' %}" enctype="multipart/form-data">{% csrf_token %}
					{{ form.non_field_errors }}
					<div class="row">
						<div class="form-group col-md-8">
							{{ form.search }}
						</div>
						<div class="col-md-12"><hr></div>
					</div>
					<div class="row">
						<div class="col-md-4">
							<label for="id_country">{{ form.fields.country.label }}</label>
							{{ form.country }}

							<div class="search-checkbox">
								<hr>
								{{ form.past_events }}
								<label for="id_include_past">{{ form.past_events.label }}</label> 
							</div>

							<div class="search-checkbox">
								<hr>
								<label>{{ form.fields.theme.label }}</label>
								{{ form.theme }}
							</div>

							<div class="search-checkbox">
								<hr>
								<label>{{ form.fields.audience.label }}</label>
								{{ form.audience }}
							</div>
							<hr>
							<input type="submit" class="btn btn-primary btn-lg" value="Search" />
						</div>
						<div class="col-md-8">
							<div id="events-container">
								{% if events %}
									{% paginate 6 events as pag_events %}

									{% for event in pag_events %}
										{% include 'layout/event_tile_long.html' %}
									{% endfor %}

									{% get_pages %}
									{% if pages.paginated %}
										<ul class="pagination">
										<li>{{ pages.previous }}</li>
										{% for page in pages %}
											{% if page.is_current %}
											<li class="active endless_page_current">
											<a href="#">
											{% else %}
											<li>
											<a href="{% url 'web.search_events' %}?past={% if past %}yes{% else %}no{% endif %}{% if page.url %}&amp;page={{ page.number }}{% endif %}" rel="page" class="endless_page_link">
											{% endif %}
											{{ page.number }}</a>
											</li>
										{% endfor %}
										<li>{{ pages.next }}</li>
										</ul>
									{% endif %}

								{% else %}
									<h3>
										Sorry, no events matching your search criteria. Try expanding your search. 
									</h3>
								{% endif %}
							</div>
						</div>
					</div>
				</form>
			</div>
		</div>
	</div>
{% endblock content %}